<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>All Items</title>
		<link rel = "stylesheet" href = "style.css" />
		<style></style>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script src="vue.js"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	</head>

	<script>

		var pending_items_data = [{
		  'item_id': 1,
		  'item_description': 'Wool Sweater',
		  'arrival_time': '4:32 PM',
		  'status': 'completed',
		},{
		  'item_id': 2,
		  'item_description': 'White Plates',
		  'arrival_time': '4:36 PM',
		  'status': 'in_transit',
		},{
		  'item_id': 6,
		  'item_description': 'Newspaper',
		  'arrival_time': '7:00 PM',
		  'status': 'scheduled',
		},{
		  'item_id': 13,
		  'item_description': 'Book_1559',
		  'arrival_time': '7:00 PM',
		  'status': 'scheduled',
		},{
		  'item_id': 14,
		  'item_description': 'Book_1560',
		  'arrival_time': '7:00 PM',
		  'status': 'scheduled',
		}]

		var user_data = {
			'user_id' : 55,
			'name' : 'John',
			'lastname': 'Brown',
		}
		
		// I personally did not code this section; I didn't know how to.
		// It is, however, an idea I really liked and wanted to implement.
		// Source: http://talkerscode.com/webtricks/highlight-words-on-search-using-javascript.php
		document.addEventListener( 'DOMContentLoaded',function()
		{
			var searchpara=document.getElementById("search_para").innerHTML;
			searchpara=searchpara.toString();
		
			document.getElementById("search").onclick =function ()
			{
				highlight_word(searchpara)
			};	
		},false);

		function highlight_word(searchpara)
		{
			var text=document.getElementById("search_text").value;
			if(text)
			{
				var pattern=new RegExp("("+text+")", "gi");
				var new_text=searchpara.replace(pattern, "<span class='highlight'>"+text+"</span>");
				document.getElementById("search_para").innerHTML=new_text;
			}
		}
		
	</script>
	<body>
		<div class="top">
			<input type="text" placeholder="Search Item" id="search_text">
			<button class="search" id="search"><i class="fa fa-search"></i></button>
			<button class="link" onclick = "location.href='dashboard.html';"> Back to Dashboard </button>
		</div><br /><hr />

		<div id="index_page">

			<h3><caption> All Items </caption></h3>
			<table id="search_para">
				<tr>
					<th>Item ID:</th>
					<th>Items:</th>
					<th>Arrival:</th>
					<th>Status:</th>
				</tr>
				
				<tr v-for="pending_item in pending_items_data">
					<td><div>{{pending_item.item_id}}</div></td>
					<td><div>{{pending_item.item_description}}</div></td>
					<td><div>{{pending_item.arrival_time}}</div></td>
					<td><div>{{pending_item.status}}</div></td>
				</tr>
			</table>
		</body>

	</div>

	<script>

		var indexPage = new Vue({
			el: '#index_page',
			data:
			{
				pending_items_data, 
				user_data
			}
		});

	</script>

</html>